name = "telescope-web"
main = "dist/_worker.js/index.js"
compatibility_flags = [ "nodejs_compat" ]
compatibility_date = "2024-09-23"

# Local D1 database - for development/testing
[[d1_databases]]
binding = "DB"
database_name = "telescope-db"
database_id = "local"  # Special value for local development

# Local R2 bucket - for storing large files (videos, HAR, images)
[[r2_buckets]]
binding = "RESULTS_BUCKET"
bucket_name = "telescope-results-local"

# Local development settings
[env.development]
compatibility_date = "2024-09-23"

# Production settings - override these when deploying to production
[env.production]
compatibility_date = "2024-09-23"

# Production D1 database (uncomment and set your production database ID)
# [[env.production.d1_databases]]
# binding = "DB"
# database_name = "telescope-db"
# database_id = "your-production-database-id"

# Production R2 bucket (uncomment and set your production bucket name)
# [[env.production.r2_buckets]]
# binding = "RESULTS_BUCKET"
# bucket_name = "telescope-results"

# Uncomment and configure if using KV for metadata
# [[kv_namespaces]]
# binding = "RESULTS_KV"
# id = "your-kv-namespace-id"
