import{f as P,a as j}from"../chunks/B2htzuoC.js";import"../chunks/vVpGJ83M.js";import{V as O,W as S,X as l,Y as a,j as e,Z as $,F as f,_ as n,$ as B,m as o}from"../chunks/Bt75DD1o.js";import{e as D,s as k}from"../chunks/OhSWhIBa.js";import{i as E}from"../chunks/BA_UftuP.js";import{r as J}from"../chunks/B4gnv5C1.js";import{b as V}from"../chunks/QfwzcqkF.js";import{b as W}from"../chunks/Dw3wnrL1.js";import{i as X}from"../chunks/MYImdi6P.js";import{g as F}from"../chunks/FwNjMwio.js";var Y=P('<div class="error-message svelte-1uha8ag"> </div>'),Z=P('<div class="section-content"><h2>Simple</h2> <p>Simple is a simple way to test your website.</p> <form><!> <div class="form-group svelte-1uha8ag"><label for="url" class="svelte-1uha8ag">URL:</label> <input type="text" id="url" name="url" placeholder="https://example.com" class="svelte-1uha8ag"/></div> <div class="form-group svelte-1uha8ag"><label for="browser" class="svelte-1uha8ag">Browser:</label> <select id="browser" name="browser" class="svelte-1uha8ag"><option>Chrome</option><option>Firefox</option><option>Edge</option><option>Safari</option></select></div> <button type="submit" class="svelte-1uha8ag"> </button></form></div>');function ae(R,C){O(C,!1);let v=f(""),p=f("chrome"),i=f(!1),u=f("");async function I(t){if(t.preventDefault(),!e(v)){o(u,"Please enter a URL");return}o(i,!0),o(u,"");try{const r=await fetch("/api/submit-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e(v),browser:e(p)})}),s=await r.json();r.ok&&s.success?s.redirectUrl?F(s.redirectUrl):s.testId&&F(`/results/${s.testId}/overview`):o(u,s.error||"Failed to submit test")}catch(r){o(u,"Network error. Please try again."),console.error("Test submission error:",r)}finally{o(i,!1)}}X();var d=Z(),c=a(l(d),4),T=l(c);{var L=t=>{var r=Y(),s=l(r,!0);n(r),S(()=>k(s,e(u))),j(t,r)};E(T,t=>{e(u)&&t(L)})}var b=a(T,2),_=a(l(b),2);J(_),n(b);var g=a(b,2),m=a(l(g),2);S(()=>{e(p),B(()=>{e(i)})});var h=l(m);h.value=h.__value="chrome";var w=a(h);w.value=w.__value="firefox";var y=a(w);y.value=y.__value="edge";var U=a(y);U.value=U.__value="safari",n(m),n(g);var x=a(g,2),N=l(x,!0);n(x),n(c),n(d),S(()=>{_.disabled=e(i),m.disabled=e(i),x.disabled=e(i),k(N,e(i)?"Submitting...":"Run Test")}),V(_,()=>e(v),t=>o(v,t)),W(m,()=>e(p),t=>o(p,t)),D("submit",c,I),j(R,d),$()}export{ae as component};
