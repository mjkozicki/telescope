import{f as rs,a as ss}from"../chunks/B2htzuoC.js";import"../chunks/vVpGJ83M.js";import{V as ds,W as C,X as a,Y as s,j as e,Z as us,m as o,F as v,a0 as ts,_ as l,$ as as,a1 as r,a2 as ge}from"../chunks/Bt75DD1o.js";import{e as fs,s as ls}from"../chunks/OhSWhIBa.js";import{i as _s}from"../chunks/BA_UftuP.js";import{s as xe,r as i}from"../chunks/B4gnv5C1.js";import{b as n,a as we}from"../chunks/QfwzcqkF.js";import{b as os}from"../chunks/Dw3wnrL1.js";import{i as bs}from"../chunks/MYImdi6P.js";import{g as vs}from"../chunks/FwNjMwio.js";var hs=rs('<div class="error-message svelte-1z0msvj"> </div>'),js=rs('<div class="section-content svelte-1z0msvj"><h2>Advanced</h2> <p>Configure advanced testing options with full control over browser behavior, network conditions, and more.</p> <form class="svelte-1z0msvj"><!> <section class="form-section svelte-1z0msvj"><h3 class="svelte-1z0msvj">Basic Configuration</h3> <div class="form-row svelte-1z0msvj"><div class="form-group svelte-1z0msvj"><label for="url" class="svelte-1z0msvj">URL <span class="required svelte-1z0msvj">*</span></label> <input type="url" id="url" placeholder="https://example.com" required class="svelte-1z0msvj"/></div> <div class="form-group svelte-1z0msvj"><label for="browser" class="svelte-1z0msvj">Browser</label> <select id="browser" class="svelte-1z0msvj"><option>Chrome</option><option>Chrome Beta</option><option>Chrome Canary</option><option>Edge</option><option>Safari</option><option>Firefox</option></select></div></div></section> <section class="form-section svelte-1z0msvj"><h3 class="svelte-1z0msvj">Network & Performance</h3> <div class="form-row svelte-1z0msvj"><div class="form-group svelte-1z0msvj"><label for="connectionType" class="svelte-1z0msvj">Connection Type</label> <select id="connectionType" class="svelte-1z0msvj"><option>No throttling</option><option>FiOS</option><option>Cable</option><option>DSL</option><option>4G</option><option>3G</option><option>3G Fast</option><option>3G Slow</option><option>2G</option></select> <span class="help-text svelte-1z0msvj">Network throttling simulation</span></div> <div class="form-group svelte-1z0msvj"><label for="cpuThrottle" class="svelte-1z0msvj">CPU Throttle</label> <input type="number" id="cpuThrottle" min="1" placeholder="e.g. 4" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">CPU throttling factor (higher = slower)</span></div></div> <div class="form-row svelte-1z0msvj"><div class="form-group svelte-1z0msvj"><label for="width" class="svelte-1z0msvj">Viewport Width</label> <input type="number" id="width" min="320" max="3840" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">pixels</span></div> <div class="form-group svelte-1z0msvj"><label for="height" class="svelte-1z0msvj">Viewport Height</label> <input type="number" id="height" min="240" max="2160" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">pixels</span></div></div></section> <section class="form-section svelte-1z0msvj"><h3 class="svelte-1z0msvj">Content Control</h3> <div class="form-group svelte-1z0msvj"><label for="blockDomains" class="svelte-1z0msvj">Block Domains</label> <input type="text" id="blockDomains" placeholder="ads.example.com, tracker.com" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">Comma-separated list of domains to block</span></div> <div class="form-group svelte-1z0msvj"><label for="blockUrls" class="svelte-1z0msvj">Block URLs</label> <input type="text" id="blockUrls" placeholder="/ads/, /analytics/" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">Comma-separated list of URL substrings to block</span></div> <div class="form-group checkbox-group svelte-1z0msvj"><label class="svelte-1z0msvj"><input type="checkbox" class="svelte-1z0msvj"/> Disable JavaScript</label></div></section> <section class="form-section svelte-1z0msvj"><h3 class="svelte-1z0msvj">Advanced Settings</h3> <div class="form-group svelte-1z0msvj"><label for="headers" class="svelte-1z0msvj">Custom Headers (JSON)</label> <textarea id="headers" rows="3" class="svelte-1z0msvj"></textarea> <span class="help-text svelte-1z0msvj">JSON object of HTTP headers</span></div> <div class="form-group svelte-1z0msvj"><label for="cookies" class="svelte-1z0msvj">Custom Cookies (JSON)</label> <textarea id="cookies" rows="3" class="svelte-1z0msvj"></textarea> <span class="help-text svelte-1z0msvj">JSON object of cookies</span></div> <div class="form-group svelte-1z0msvj"><label for="flags" class="svelte-1z0msvj">Chrome Flags</label> <input type="text" id="flags" placeholder="--disable-gpu,--no-sandbox" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">Comma-separated Chromium flags</span></div> <div class="form-group svelte-1z0msvj"><label for="firefoxPrefs" class="svelte-1z0msvj">Firefox Preferences (JSON)</label> <textarea id="firefoxPrefs" rows="3" class="svelte-1z0msvj"></textarea> <span class="help-text svelte-1z0msvj">Firefox user preferences (Firefox only)</span></div> <div class="auth-group svelte-1z0msvj"><p class="auth-label svelte-1z0msvj">HTTP Basic Authentication</p> <div class="form-row svelte-1z0msvj"><div class="form-group svelte-1z0msvj"><input type="text" placeholder="Username" class="svelte-1z0msvj"/></div> <div class="form-group svelte-1z0msvj"><input type="password" placeholder="Password" class="svelte-1z0msvj"/></div></div></div></section> <section class="form-section svelte-1z0msvj"><h3 class="svelte-1z0msvj">Recording Options</h3> <div class="form-row svelte-1z0msvj"><div class="form-group svelte-1z0msvj"><label for="frameRate" class="svelte-1z0msvj">Filmstrip Frame Rate</label> <input type="number" id="frameRate" min="1" max="60" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">frames per second</span></div> <div class="form-group svelte-1z0msvj"><label for="timeout" class="svelte-1z0msvj">Test Timeout</label> <input type="number" id="timeout" min="5000" step="1000" class="svelte-1z0msvj"/> <span class="help-text svelte-1z0msvj">milliseconds</span></div></div> <div class="form-group checkbox-group svelte-1z0msvj"><label class="svelte-1z0msvj"><input type="checkbox" class="svelte-1z0msvj"/> Generate HTML Report</label></div> <div class="form-group checkbox-group svelte-1z0msvj"><label class="svelte-1z0msvj"><input type="checkbox" class="svelte-1z0msvj"/> Enable Debug Output</label></div></section> <button type="submit" class="submit-button svelte-1z0msvj"> </button></form></div>');function Ns(is,ns){ds(ns,!1);let f=v(""),_=v("chrome"),u=v(""),b=v(null),T=v(1366),S=v(768),h=v(""),j=v(""),P=v(!1),z=v(""),g=v(""),x=v(""),w=v(""),m=v({username:"",password:""}),N=v(1),O=v(3e4),U=v(!1),J=v(!1),k=v(!1),c=v("");async function ms(t){if(t.preventDefault(),!e(f)){o(c,"Please enter a URL");return}o(k,!0),o(c,"");try{const p={url:e(f),browser:e(_),...e(u)&&{connectionType:e(u)},...e(b)&&{cpuThrottle:e(b)},width:e(T),height:e(S),...e(h)&&{blockDomains:e(h).split(",").map(ze=>ze.trim())},...e(j)&&{block:e(j).split(",").map(ze=>ze.trim())},disableJS:e(P),...e(z)&&{headers:JSON.parse(e(z))},...e(g)&&{cookies:JSON.parse(e(g))},...e(x)&&{flags:e(x)},...e(w)&&{firefoxPrefs:JSON.parse(e(w))},...e(m).username&&e(m).password&&{auth:e(m)},frameRate:e(N),timeout:e(O),html:e(U),debug:e(J)},y=await fetch("/api/submit-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),d=await y.json();y.ok&&d.success?d.redirectUrl?vs(d.redirectUrl):d.testId&&vs(`/results/${d.testId}/overview`):o(c,d.error||"Failed to submit test")}catch(p){o(c,p instanceof Error?p.message:"Network error. Please try again."),console.error("Test submission error:",p)}finally{o(k,!1)}}bs();var R=js(),F=s(a(R),4),ke=a(F);{var ps=t=>{var p=hs(),y=a(p,!0);l(p),C(()=>ls(y,e(c))),ss(t,p)};_s(ke,t=>{e(c)&&t(ps)})}var D=s(ke,2),ye=s(a(D),2),B=a(ye),Ce=s(a(B),2);i(Ce),l(B);var Te=s(B,2),G=s(a(Te),2);C(()=>{e(_),as(()=>{})});var H=a(G);H.value=H.__value="chrome";var L=s(H);L.value=L.__value="chrome-beta";var A=s(L);A.value=A.__value="canary";var E=s(A);E.value=E.__value="edge";var V=s(E);V.value=V.__value="safari";var Se=s(V);Se.value=Se.__value="firefox",l(G),l(Te),l(ye),l(D);var q=s(D,2),I=s(a(q),2),W=a(I),X=s(a(W),2);C(()=>{e(u),as(()=>{})});var $=a(X);$.value=$.__value="";var M=s($);M.value=M.__value="fios";var Y=s(M);Y.value=Y.__value="cable";var Z=s(Y);Z.value=Z.__value="dsl";var K=s(Z);K.value=K.__value="4g";var Q=s(K);Q.value=Q.__value="3g";var ee=s(Q);ee.value=ee.__value="3gfast";var se=s(ee);se.value=se.__value="3gslow";var Pe=s(se);Pe.value=Pe.__value="2g",l(X),r(2),l(W);var Ne=s(W,2),Oe=s(a(Ne),2);i(Oe),r(2),l(Ne),l(I);var Ue=s(I,2),te=a(Ue),Je=s(a(te),2);i(Je),r(2),l(te);var Re=s(te,2),Fe=s(a(Re),2);i(Fe),r(2),l(Re),l(Ue),l(q);var ae=s(q,2),le=s(a(ae),2),De=s(a(le),2);i(De),r(2),l(le);var oe=s(le,2),Be=s(a(oe),2);i(Be),r(2),l(oe);var Ge=s(oe,2),He=a(Ge),Le=a(He);i(Le),r(),l(He),l(Ge),l(ae);var ve=s(ae,2),re=s(a(ve),2),ie=s(a(re),2);ge(ie),xe(ie,"placeholder",'{"User-Agent": "CustomBot/1.0", "X-Custom": "value"}'),r(2),l(re);var ne=s(re,2),me=s(a(ne),2);ge(me),xe(me,"placeholder",'{"session": "abc123", "preference": "dark"}'),r(2),l(ne);var pe=s(ne,2),Ae=s(a(pe),2);i(Ae),r(2),l(pe);var ce=s(pe,2),de=s(a(ce),2);ge(de),xe(de,"placeholder",'{"network.trr.mode": 2}'),r(2),l(ce);var Ee=s(ce,2),Ve=s(a(Ee),2),ue=a(Ve),qe=a(ue);i(qe),l(ue);var Ie=s(ue,2),We=a(Ie);i(We),l(Ie),l(Ve),l(Ee),l(ve);var fe=s(ve,2),_e=s(a(fe),2),be=a(_e),Xe=s(a(be),2);i(Xe),r(2),l(be);var $e=s(be,2),Me=s(a($e),2);i(Me),r(2),l($e),l(_e);var he=s(_e,2),Ye=a(he),Ze=a(Ye);i(Ze),r(),l(Ye),l(he);var Ke=s(he,2),Qe=a(Ke),es=a(Qe);i(es),r(),l(Qe),l(Ke),l(fe);var je=s(fe,2),cs=a(je,!0);l(je),l(F),l(R),C(()=>{je.disabled=e(k),ls(cs,e(k)?"Submitting...":"Run Advanced Test")}),n(Ce,()=>e(f),t=>o(f,t)),os(G,()=>e(_),t=>o(_,t)),os(X,()=>e(u),t=>o(u,t)),n(Oe,()=>e(b),t=>o(b,t)),n(Je,()=>e(T),t=>o(T,t)),n(Fe,()=>e(S),t=>o(S,t)),n(De,()=>e(h),t=>o(h,t)),n(Be,()=>e(j),t=>o(j,t)),we(Le,()=>e(P),t=>o(P,t)),n(ie,()=>e(z),t=>o(z,t)),n(me,()=>e(g),t=>o(g,t)),n(Ae,()=>e(x),t=>o(x,t)),n(de,()=>e(w),t=>o(w,t)),n(qe,()=>e(m).username,t=>ts(m,e(m).username=t)),n(We,()=>e(m).password,t=>ts(m,e(m).password=t)),n(Xe,()=>e(N),t=>o(N,t)),n(Me,()=>e(O),t=>o(O,t)),we(Ze,()=>e(U),t=>o(U,t)),we(es,()=>e(J),t=>o(J,t)),fs("submit",F,ms),ss(is,R),us()}export{Ns as component};
